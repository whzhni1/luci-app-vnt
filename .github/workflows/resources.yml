name: List Files

on:
  workflow_dispatch:

env:
  REPO: https://github.com/immortalwrt/luci.git
  BRANCH: master
  PATH_PREFIX: themes/luci-theme-bootstrap

jobs:
  list:
    runs-on: ubuntu-latest
    steps:
      - name: Clone and List Files
        run: |
          # ç¨€ç–å…‹éš†æŒ‡å®šç›®å½•
          git clone --depth 1 --filter=blob:none --sparse $REPO repo
          cd repo
          git sparse-checkout set $PATH_PREFIX
          
          echo "========== ğŸ“ æ–‡ä»¶ç»“æ„ =========="
          find $PATH_PREFIX -type f | sort
          
          echo ""
          echo "========== ğŸ”— åŸå§‹é“¾æ¥ =========="
          for file in $(find $PATH_PREFIX -type f | sort); do
            echo "https://raw.githubusercontent.com/immortalwrt/luci/$BRANCH/$file"
          done
